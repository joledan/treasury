{"title":"Deforestation Dividends and Forests and Finance Comparisons","markdown":{"yaml":{"title":"Deforestation Dividends and Forests and Finance Comparisons","date":"today","date-format":"full","format":"html","editor":"visual","project":{"execute-dir":"../reports","output-dir":"../reports"}},"headingText":"Purpose","containsRefs":false,"markdown":"\n\n\nThis document compares data sets from the [Deforestation Dividends](https://www.globalwitness.org/en/campaigns/forests/deforestation-dividends/) report (DD, 2021) and [Forests and Finance](https://forestsandfinance.org/data/). In particular, we want to understand:\n\n-   How the values compare between the two data sets\n-   Coverage of financial institutions (FIs) between the two data sets\n-   Types of finance covered in both data sets\n\n## About the data sets\n\n### Deforestation Dividends\n\nThe data used in the DD report come from an internal data project (provided by a colleague who worked on the report). As of Tuesday June 18, 2024, we have not received any information from Profundo regarding the details of the data or methodologies used to construct the data. Much of this analysis is based on 1) the previous code and data files provided internally and 2) deducing from the methodology provided by [FF](https://forestsandfinance.org/wp-content/uploads/2023/12/Forests-Finance-financial-research-methodology-231211.pdf).\n\nThis data set was used to construct the values cited and visuals in the DD report, published by Global Witness in 2021.\n\nThis data contains over 70,000 deals made by 20 agribusiness firms linked to deforestation and all the FIs associated with them (headquartered in the EU, UK, US, and China) from 2016-2020. \\[DD data might be less than FF bc there's only 20 business duh\\]\n\n\\[one check to do - isolate to 20 groups that appear in data and check FF for values\\]\n\n### Forests and Finance\n\nForests and Finance covers data from several agribusinesses and financial institutions funding deforestation-related activities. As of June 18, 2024, data is available from 2010 to 2023 (which month?). Data is disaggregated into FIs, types of financing, and forest risk sectors (Beef, Palm Oil, Pulp and Paper, Rubber, Soy, Timber).\n\nFor each deal in the FF data, there is a value attributed for each FI to agribusiness groups (measured in millions of USD) which presumably is the amount the FI is providing the agribusiness group.\n\n## Analysis\n\nFor the comparisons, we want to focus on UK headquartered FIs.\n\n```{r}\n#| echo: false\n#| warnings: false\n#| include: false\n\n##### install and load packages #####\nrm(list=ls())\n\n# load packages\nlibrary(tidyverse)\n# extract currencies from string\nlibrary(strex)\nlibrary(readxl)\nlibrary(ggplot2)\nlibrary(magrittr)\nlibrary(fuzzyjoin)\nlibrary(janitor)\n\n#### define paths ####\nuser <- Sys.getenv(\"USERNAME\")\n# specify project folder\nmain <- paste0(\"C:/Users/\", user, \"/Documents/Github/treasury\")\ndataraw <- paste(main, \"dataraw\", sep = \"/\")\ndataout <- paste(main, \"dataout\", sep = \"/\")\ntemp <- paste(main, \"temp\", sep = \"/\")\n```\n\n```{r}\n#| echo: false\n#| warnings: false\n#| include: false\n\n# load dd and ff dfs, keep only UK investors\ndd <- paste(dataraw,\n            \"dd_raw.csv\",\n            sep = \"/\") %>%\n  read_delim() %>%\n  clean_names() %>%\n  filter(investor_parent_country == \"United Kingdom\")\n  \nff <- paste(dataraw,\n            \"ForestsAndFinance Agriculture.csv\",\n            sep = \"/\") %>%\n  read_delim() %>%\n  clean_names()\n\n```\n\n## Comparing coverage\n\n#### How many rows and how many UK-based FIs appear in the data sets?\n\n```{r}\n#| echo: false\n\ncount_dd <- dd %>% count()\ncount_ff <- ff %>% count()\n\n```\n\nAfter keeping only UK-based FIs:\n\n-   There are `{r} count_dd` rows in the DD data\n-   There are `{r} count_ff` rows in the FF data\n-   The FF data contains more rows than the DD data\n\n#### Which UK-based FIs appear in the data sets?\n\n```{r}\n#| echo: false\n#| paged.print: FALSE\n\ndd1 <- dd %>%\n  select(investor_parent) %>%\n  unique() %>%\n  rename(bank = investor_parent) %>%\n  mutate(in_deforestation_dividends = 1)\n\nff1 <- ff %>%\n  select(bank) %>%\n  unique() %>%\n  mutate(in_forests_finance = 1)\n\ncombined1 <- dd1 %>%\n  full_join(ff1) %>%\n  replace_na(list(\n    in_deforestation_dividends = 0,\n    in_forests_finance = 0\n  )) %>%\n  mutate(in_both = ifelse(in_deforestation_dividends == 1 &\n                            in_forests_finance == 1,\n                          1, 0))\n\n# construct values for text\ncount_dd_bank <- sum(combined1$in_deforestation_dividends)\ncount_ff_bank <- sum(combined1$in_forests_finance) \ncount_both_bank <- sum(combined1$in_both)\n\n\ncombined1 \n# print df to browse through \n```\n\n-   The DD data contains `{r} count_dd_bank` unique UK-based FIs\n-   The FF data contains `{r} count_ff_bank` unique UK-based FIs\n-   Over `{r} count_both_bank` unique UK-based FIs appear in both data sets\n-   These include major names like Standard Chartered, HSBC, Natwest, Lloyds Banking Group, Barclays\n\n<!-- ## Running Code -->\n\n<!-- When you click the **Render** button a document will be generated that includes both content and the output of embedded code. You can embed code like this: -->\n\n<!-- ```{r} -->\n\n<!-- 1 + 1 -->\n\n<!-- ``` -->\n\n<!-- You can add options to executable code like this -->\n\n<!-- ```{r} -->\n\n<!-- #| echo: false -->\n\n<!-- 2 * 2 -->\n\n<!-- ``` -->\n\n<!-- The `echo: false` option disables the printing of code (only output is displayed). -->\n","srcMarkdownNoYaml":"\n\n# Purpose\n\nThis document compares data sets from the [Deforestation Dividends](https://www.globalwitness.org/en/campaigns/forests/deforestation-dividends/) report (DD, 2021) and [Forests and Finance](https://forestsandfinance.org/data/). In particular, we want to understand:\n\n-   How the values compare between the two data sets\n-   Coverage of financial institutions (FIs) between the two data sets\n-   Types of finance covered in both data sets\n\n## About the data sets\n\n### Deforestation Dividends\n\nThe data used in the DD report come from an internal data project (provided by a colleague who worked on the report). As of Tuesday June 18, 2024, we have not received any information from Profundo regarding the details of the data or methodologies used to construct the data. Much of this analysis is based on 1) the previous code and data files provided internally and 2) deducing from the methodology provided by [FF](https://forestsandfinance.org/wp-content/uploads/2023/12/Forests-Finance-financial-research-methodology-231211.pdf).\n\nThis data set was used to construct the values cited and visuals in the DD report, published by Global Witness in 2021.\n\nThis data contains over 70,000 deals made by 20 agribusiness firms linked to deforestation and all the FIs associated with them (headquartered in the EU, UK, US, and China) from 2016-2020. \\[DD data might be less than FF bc there's only 20 business duh\\]\n\n\\[one check to do - isolate to 20 groups that appear in data and check FF for values\\]\n\n### Forests and Finance\n\nForests and Finance covers data from several agribusinesses and financial institutions funding deforestation-related activities. As of June 18, 2024, data is available from 2010 to 2023 (which month?). Data is disaggregated into FIs, types of financing, and forest risk sectors (Beef, Palm Oil, Pulp and Paper, Rubber, Soy, Timber).\n\nFor each deal in the FF data, there is a value attributed for each FI to agribusiness groups (measured in millions of USD) which presumably is the amount the FI is providing the agribusiness group.\n\n## Analysis\n\nFor the comparisons, we want to focus on UK headquartered FIs.\n\n```{r}\n#| echo: false\n#| warnings: false\n#| include: false\n\n##### install and load packages #####\nrm(list=ls())\n\n# load packages\nlibrary(tidyverse)\n# extract currencies from string\nlibrary(strex)\nlibrary(readxl)\nlibrary(ggplot2)\nlibrary(magrittr)\nlibrary(fuzzyjoin)\nlibrary(janitor)\n\n#### define paths ####\nuser <- Sys.getenv(\"USERNAME\")\n# specify project folder\nmain <- paste0(\"C:/Users/\", user, \"/Documents/Github/treasury\")\ndataraw <- paste(main, \"dataraw\", sep = \"/\")\ndataout <- paste(main, \"dataout\", sep = \"/\")\ntemp <- paste(main, \"temp\", sep = \"/\")\n```\n\n```{r}\n#| echo: false\n#| warnings: false\n#| include: false\n\n# load dd and ff dfs, keep only UK investors\ndd <- paste(dataraw,\n            \"dd_raw.csv\",\n            sep = \"/\") %>%\n  read_delim() %>%\n  clean_names() %>%\n  filter(investor_parent_country == \"United Kingdom\")\n  \nff <- paste(dataraw,\n            \"ForestsAndFinance Agriculture.csv\",\n            sep = \"/\") %>%\n  read_delim() %>%\n  clean_names()\n\n```\n\n## Comparing coverage\n\n#### How many rows and how many UK-based FIs appear in the data sets?\n\n```{r}\n#| echo: false\n\ncount_dd <- dd %>% count()\ncount_ff <- ff %>% count()\n\n```\n\nAfter keeping only UK-based FIs:\n\n-   There are `{r} count_dd` rows in the DD data\n-   There are `{r} count_ff` rows in the FF data\n-   The FF data contains more rows than the DD data\n\n#### Which UK-based FIs appear in the data sets?\n\n```{r}\n#| echo: false\n#| paged.print: FALSE\n\ndd1 <- dd %>%\n  select(investor_parent) %>%\n  unique() %>%\n  rename(bank = investor_parent) %>%\n  mutate(in_deforestation_dividends = 1)\n\nff1 <- ff %>%\n  select(bank) %>%\n  unique() %>%\n  mutate(in_forests_finance = 1)\n\ncombined1 <- dd1 %>%\n  full_join(ff1) %>%\n  replace_na(list(\n    in_deforestation_dividends = 0,\n    in_forests_finance = 0\n  )) %>%\n  mutate(in_both = ifelse(in_deforestation_dividends == 1 &\n                            in_forests_finance == 1,\n                          1, 0))\n\n# construct values for text\ncount_dd_bank <- sum(combined1$in_deforestation_dividends)\ncount_ff_bank <- sum(combined1$in_forests_finance) \ncount_both_bank <- sum(combined1$in_both)\n\n\ncombined1 \n# print df to browse through \n```\n\n-   The DD data contains `{r} count_dd_bank` unique UK-based FIs\n-   The FF data contains `{r} count_ff_bank` unique UK-based FIs\n-   Over `{r} count_both_bank` unique UK-based FIs appear in both data sets\n-   These include major names like Standard Chartered, HSBC, Natwest, Lloyds Banking Group, Barclays\n\n<!-- ## Running Code -->\n\n<!-- When you click the **Render** button a document will be generated that includes both content and the output of embedded code. You can embed code like this: -->\n\n<!-- ```{r} -->\n\n<!-- 1 + 1 -->\n\n<!-- ``` -->\n\n<!-- You can add options to executable code like this -->\n\n<!-- ```{r} -->\n\n<!-- #| echo: false -->\n\n<!-- 2 * 2 -->\n\n<!-- ``` -->\n\n<!-- The `echo: false` option disables the printing of code (only output is displayed). -->\n"},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"engine":"knitr"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","output-file":"dd_ff_comparisons.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","tools-share":"Share","tools-download":"Download","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.4.553","title":"Deforestation Dividends and Forests and Finance Comparisons","date":"today","date-format":"full","editor":"visual"},"extensions":{"book":{"multiFile":true}}}},"projectFormats":[]}